(this["webpackJsonpweekly-project-3"]=this["webpackJsonpweekly-project-3"]||[]).push([[0],{160:function(e,t,c){},163:function(e,t,c){},164:function(e,t,c){},165:function(e,t,c){},177:function(e,t,c){},202:function(e,t){},220:function(e,t,c){},222:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(34),o=c.n(s),r=(c(160),c(114)),i=c(15),l=(c(161),c(162),c(163),c(164),c(165),c(238)),u=c(235),j=c(240),h=c(236),m=c(5),b=function(e){return Object(m.jsxs)("nav",{className:"nav",children:[Object(m.jsx)(l.a,{className:"nav__form",onSubmit:function(){return e.onSearch()},children:Object(m.jsxs)(l.a.Group,{className:"nav__group",children:[Object(m.jsx)(l.a.Input,{className:"nav__search",placeholder:"Search...",name:"search",onChange:function(t){return e.isValue(t)},value:e.value}),Object(m.jsx)(u.a,{className:"nav__select",onChange:e.onChangeSelect,placeholder:"Num of results",options:[{key:"1",text:"40",value:"40"},{key:"2",text:"60",value:"60"},{key:"3",text:"100",value:"100"},{key:"4",text:"150",value:"150"},{key:"5",text:"200",value:"200"}]}),e.isLoading?Object(m.jsx)(j.a,{type:"submit",className:"nav__btn",children:Object(m.jsx)(h.a,{inline:"centered",active:!0,size:"mini"})}):Object(m.jsx)(j.a,{type:"submit",className:"nav__btn",children:"Search"}),Object(m.jsx)(l.a.Input,{className:"nav__range",label:"Articles per page: ".concat(e.range),min:1,max:20,name:"range",onChange:function(t){return e.onChangeRange(t)},step:1,type:"range",value:e.range})]})}),Object(m.jsx)(j.a,{onClick:e.luckyQuery,className:"nav__btn",children:"Surprise me!"})]})},d=function(e){return Object(m.jsx)("header",{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("a",{href:"./index.html",className:"header__logo link",children:[Object(m.jsx)("img",{src:"./img/hn-logo.svg",alt:"Logo"}),"Hacker News"]}),Object(m.jsx)(b,{luckyQuery:e.luckyQuery,onChangeSelect:e.onChangeSelect,range:e.range,onChangeRange:e.onChangeRange,isLoading:e.isLoading,isValue:e.isValue,onSearch:e.onSearch,value:e.value})]})})})},O=(c(76),c(140),c(237)),g=(c(177),function(){return Object(m.jsxs)("div",{className:"error",children:[Object(m.jsx)("h2",{className:"error__title",children:"Search failed successfully!"}),Object(m.jsx)("img",{className:"error__gif",src:"./img/error.gif",alt:"Homer Error"})]})}),f=c(141),v=c.n(f),x=(c(220),function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){s((function(t){return function(e){var t=new Date(e).getTime(),c=((new Date).getTime()-t)/1e3,n=Math.floor(c/86400),a=Math.floor(n/365.25),s=Math.floor(c/3600)%24,o=Math.floor(c/60)%60;return a>=1&&a<2?"1 year ago":a>=2?"".concat(a," years ago"):a<1&&s>=24?"".concat(n," days ago"):s<24&&s>=1?"".concat(s," hours ago"):s<1?"".concat(o," minutes ago"):void 0}(e.time)}))}),[]),Object(m.jsxs)("li",{className:"article",children:[Object(m.jsxs)("span",{className:"article__id",children:[e.id,"."]}),Object(m.jsxs)("div",{className:"row article__row-1",children:[Object(m.jsx)("h3",{className:"article__title",children:e.title}),Object(m.jsx)("a",{href:e.link,className:"article__link",children:"link"})]}),Object(m.jsxs)("div",{className:"row article__row-2",children:[Object(m.jsxs)("span",{className:"article__info",children:[e.points," points by ",e.author," ",a]}),Object(m.jsxs)("button",{onClick:function(){e.getComments(e.itemID),e.getID(e.title)},className:"article__comments",children:[e.num_comments," comments"]})]})]})});var _=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),o=Object(i.a)(s,2),l=(o[0],o[1]),u=Object(n.useState)([]),j=Object(i.a)(u,2),h=j[0],b=j[1],f=Object(n.useState)([]),_=Object(i.a)(f,2),p=_[0],N=_[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),y=k[0],C=k[1],w=Object(n.useState)(!1),I=Object(i.a)(w,2),L=I[0],M=I[1],P=Object(n.useState)(1),D=Object(i.a)(P,2),R=D[0],T=D[1],E=Object(n.useState)(5),A=Object(i.a)(E,2),H=A[0],Q=A[1],V=Object(n.useState)("disabled"),q=Object(i.a)(V,2),J=q[0],U=q[1],z=Object(n.useState)({value:20}),B=Object(i.a)(z,2),F=B[0],G=B[1],K=Object(n.useState)(Math.ceil(F.value/H)),W=Object(i.a)(K,2),X=W[0],Y=W[1],Z=Object(n.useState)(!1),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ce=Object(n.useState)(!1),ne=Object(i.a)(ce,2),ae=ne[0],se=ne[1],oe=Object(n.useState)(),re=Object(i.a)(oe,2),ie=re[0],le=re[1];Object(n.useEffect)((function(){Y(Math.ceil(F.value/H))}),[F,H]);var ue=["php","jest","javascript","perl","react","angular","hacking","python","vue","jango","html and css","politics in it","frontend","backend","server","macos","windows","bootcamp"],je=function(){var e=Math.floor(Math.random()*ue.length);he(ue[e])};Object(n.useEffect)((function(){je()}),[]);var he=function(e){void 0===e&&(e=c),te(!1),C(!0),M(!1),b((function(e){return[]}));var t=new URL("https://hn.algolia.com/api/v1/search?"),n={query:e,hitsPerPage:F.value};t.search=new URLSearchParams(n),fetch(t).then((function(e){if(!e.ok)throw new g("An error has occured during the request. HTTP status code: ".concat(e.status));return e.json()}),(function(e){console.log("Rejection error callback"),C(!1),M(!0),console.log(e)})).then((function(e){C(!1),e.hits.length>0?(l(e),b(e.hits),U("")):(U("disabled"),M(!0))})).catch((function(e){console.log("Catch block"),C(!1),M(!0),console.log(e)}))},me=R*H,be=me-H,de=h.slice(be,me),Oe=function(e){var t="http://hn.algolia.com/api/v1/items/".concat(e);se(!0),fetch(t).then((function(e){if(!e.ok)throw new g("An error has occured during the request. HTTP status code: ".concat(e.status));return e.json()}),(function(e){console.log("Rejection error callback"),C(!1),M(!0),se(!1),console.log(e)})).then((function(e){C(!1),e?(N(e.children),te(!0),se(!1)):console.log("No comments detected")})).catch((function(e){console.log("Catch block"),C(!1),se(!1),M(!0),console.log(e)}))},ge=function(e){var t=e.text;return v()(t)},fe=function e(t){var c=t.text,n=t.children,a=(t.id,n&&n.length>0);return Object(m.jsxs)("li",{className:"comment__item",children:[Object(m.jsx)("p",{children:Object(m.jsx)(ge,{text:c})}),a&&n.map((function(t){return Object(m.jsx)("ul",{className:"comment__list-child",children:Object(m.jsx)(e,Object(r.a)({},t),t.id)})}))]})},ve=function(e){le(e)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d,{luckyQuery:je,onChangeSelect:function(e,t){var c=t.value;G({value:c})},range:H,onChangeRange:function(e){Q(e.target.value)},isLoading:y,isValue:function(e){a((function(t){return e.target.value}))},onSearch:he,value:c}),Object(m.jsx)("main",{children:Object(m.jsxs)("div",{className:"container",children:[L&&Object(m.jsx)(g,{}),Object(m.jsx)("ol",{className:"article-list",children:de&&de.map((function(e,t){return Object(m.jsx)(x,{isLoading:y,itemID:e.objectID,id:(R-1)*H+t+1,title:e.title||e.story_title,link:e.url,author:e.author,points:e.points,num_comments:e.num_comments,time:e.created_at,getComments:Oe,getID:ve,isCommentsLoading:ae,isComments:ee},e.objectID)}))}),X>1&&Object(m.jsx)(O.a,{className:J,activePage:R,onPageChange:function(e,t){var c=t.activePage;T(c)},totalPages:X}),ee&&Object(m.jsxs)("div",{className:"comment",id:"commentsContainer",children:[Object(m.jsxs)("h2",{className:"comment__title",children:["Comments for Article: ",Object(m.jsxs)("em",{children:['"',ie,'"']})]}),Object(m.jsx)("ul",{className:"comment__list-parent",children:p&&p.map((function(e){return Object(m.jsx)(fe,Object(r.a)({},e),e.id)}))})]})]})})]})};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("app"))}},[[222,1,2]]]);
//# sourceMappingURL=main.885f94d3.chunk.js.map